package api_assignment;

import java.util.Date;

class TicketApi {
    private String from;
    private String to;
    private User user;
    private double pricePaid;
    private Date purchaseDate;

    // Constructors, getters, and setters

    // Constructor
    public TicketApi(String from, String to, User user, double pricePaid) {
        this.from = from;
        this.to = to;
        this.user = user;
        this.pricePaid = pricePaid;
        this.purchaseDate = new Date(); // Current date and time
    }

    // Getters and setters
    // ...

    // Other methods if needed
}

class User {
    private String firstName;
    private String lastName;
    private String email;

    // Constructors, getters, and setters

    // Constructor
    public User(String firstName, String lastName, String email) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.email = email;
    }

    // Getters and setters
    // ...
}

public class TicketApi {
    // Endpoint to submit a purchase
    public static String submitPurchase(String from, String to, String firstName, String lastName, String email, double pricePaid) {
        // Create a user
        User user = new User(firstName, lastName, email);

        // Create a purchase
        TicketApi purchase = new TicketApi(from, to, user, pricePaid);

        // Save the purchase details or perform any other necessary actions
        // ...

        // Return a receipt or confirmation message
        return generateReceipt(purchase);
    }

    private static String generateReceipt(TicketApi purchase) {
        // Generate receipt details
        StringBuilder receipt = new StringBuilder();
        receipt.append("Receipt Details:\n");
        receipt.append("From: ").append(purchase.getFrom()).append("\n");
        receipt.append("To: ").append(purchase.getTo()).append("\n");
        receipt.append("User: ").append(purchase.getUser().getFullName()).append("\n");
        receipt.append("Email: ").append(purchase.getUser().getEmail()).append("\n");
        receipt.append("Price Paid: $").append(purchase.getPricePaid()).append("\n");
        receipt.append("Purchase Date: ").append(purchase.getPurchaseDate()).append("\n");

        return receipt.toString();
    }

    public static void main(String[] args) {
        // Example usage
        String receipt = submitPurchase("City A", "City B", "John", "Doe", "john.doe@example.com", 50.00);
        System.out.println(receipt);
    }
}

